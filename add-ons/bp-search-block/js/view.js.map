{"version":3,"sources":["bp-search-block/js/view.js"],"names":["domReady","wp","BPSearchForm","constructor","controls","document","querySelectorAll","increment","setForHtml","forEach","element","querySelector","uniqId","setAttribute","setRadioListeners","searchTermsInput","radio","addEventListener","event","target","checked","dataset","placeholder","start","classList","contains"],"mappings":";AAGA,MAAM,SACLA,GACGC,GAQJ,MAAMC,EACLC,cACMC,KAAAA,SAAYC,SAASC,iBAAkB,4BACvCC,KAAAA,UAAY,EAGlBC,aACMJ,KAAAA,SAASK,QAAWC,IAGnB,GAFYA,EAAQC,cAAe,oBAErB,CACbJ,KAAAA,WAAY,EACXK,MAAAA,EAAS,mBAAqB,KAAKL,UAEzCG,EAAQC,cAAe,yBAA0BE,aAAc,KAAMD,GACrEF,EAAQC,cAAe,oBAAqBE,aAAc,MAAOD,MAKpEE,oBACMV,KAAAA,SAASK,QAAWC,IAClBK,MAAAA,EAAmBL,EAAQC,cAAe,yBAEhDD,EAAQJ,iBAAkB,yBAA0BG,QAAWO,IAC9DA,EAAMC,iBAAkB,QAAWC,KAC7B,IAASA,EAAMC,OAAOC,SAC1BL,EAAiBF,aAAc,cAAeK,EAAMC,OAAOE,QAAQC,mBAOxEC,QACMf,KAAAA,aACAM,KAAAA,qBAIPd,EAAU,KACJ,IAAEK,SAASM,cAAe,QAASa,UAAUC,SAAU,YAAe,EACrD,IAAIvB,GAEZqB","file":"view.js","sourceRoot":"../src/add-ons","sourcesContent":["/**\n * WordPress dependencies\n */\nconst {\n\tdomReady,\n} = wp;\n\n/**\n * Sets the Search label for attribute and updates the search input's\n * placeholder according to the checked radio control.\n *\n * @since 1.0.0\n */\nclass BPSearchForm {\n\tconstructor() {\n\t\tthis.controls  = document.querySelectorAll( '.wp-block-bp-search-form' );\n\t\tthis.increment = 0;\n\t}\n\n\tsetForHtml() {\n\t\tthis.controls.forEach( ( element ) => {\n\t\t\tconst hasLabel = element.querySelector( '.bp-search-label' );\n\n\t\t\tif ( !! hasLabel ) {\n\t\t\t\tthis.increment +=1;\n\t\t\t\tconst uniqId = 'bp-search-terms-' + this.increment;\n\n\t\t\t\telement.querySelector( '[name=\"search-terms\"]' ).setAttribute( 'id', uniqId );\n\t\t\t\telement.querySelector( '.bp-search-label' ).setAttribute( 'for', uniqId );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetRadioListeners() {\n\t\tthis.controls.forEach( ( element ) => {\n\t\t\tconst searchTermsInput = element.querySelector( '[name=\"search-terms\"]' );\n\n\t\t\telement.querySelectorAll( '[name=\"search-which\"]' ).forEach( ( radio ) => {\n\t\t\t\tradio.addEventListener( 'click', ( event ) => {\n\t\t\t\t\tif ( true === event.target.checked ) {\n\t\t\t\t\t\tsearchTermsInput.setAttribute( 'placeholder', event.target.dataset.placeholder );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t} );\n\t}\n\n\tstart() {\n\t\tthis.setForHtml();\n\t\tthis.setRadioListeners();\n\t}\n}\n\ndomReady( () => {\n\tif ( ! document.querySelector( 'body' ).classList.contains( 'wp-admin' ) ) {\n\t\tconst bpSearchForm = new BPSearchForm();\n\n\t\tbpSearchForm.start();\n\t}\n} );\n"]}