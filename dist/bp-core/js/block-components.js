(()=>{"use strict";var e={d:(t,s)=>{for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{blockComponents:()=>m});const{apiFetch:s,components:{Popover:a},element:{Component:o,Fragment:r,createElement:n},i18n:{__},url:{addQueryArgs:l}}=wp,m={AutoCompleter:class extends o{constructor(){super(...arguments),this.state={search:"",items:[],error:""},this.searchItemName=this.searchItemName.bind(this),this.selectItemName=this.selectItemName.bind(this)}searchItemName(e){const{search:t}=this.state,{component:a,objectQueryArgs:o}=this.props;this.setState({search:e}),e.length<t.length&&this.setState({items:[]});let r="/buddypress/v1/"+a,n={};e&&(n.search=encodeURIComponent(e)),o&&(n=Object.assign(n,o)),s({path:l(r,n)}).then((e=>{this.setState({items:e})}),(e=>{this.setState({error:e.message})}))}selectItemName(e,t){const{onSelectItem:s}=this.props;return e.preventDefault(),this.setState({search:"",items:[],error:""}),s({itemID:t})}render(){const{search:e,items:t}=this.state;let s,{ariaLabel:o,placeholder:l,useAvatar:m,slugValue:c}=this.props;return o||(o=__("Item's name","buddypress")),l||(l=__("Enter Item's name hereâ€¦","buddypress")),t.length&&(s=t.map((e=>n("button",{type:"button",key:"editor-autocompleters__item-item-"+e.id,role:"option","aria-selected":"true",className:"components-button components-autocomplete__result editor-autocompleters__user",onClick:t=>this.selectItemName(t,e.id)},m&&n("img",{key:"avatar",className:"editor-autocompleters__user-avatar",alt:"",src:e.avatar_urls.thumb.replaceAll("&#038;","&")}),n("span",{key:"name",className:"editor-autocompleters__user-name"},e.name),c&&null!==c(e)&&n("span",{key:"slug",className:"editor-autocompleters__user-slug"},c(e)))))),n(r,null,n("input",{type:"text",value:e,className:"components-placeholder__input","aria-label":o,placeholder:l,onChange:e=>this.searchItemName(e.target.value)}),0!==t.length&&n(a,{className:"components-autocomplete__popover",focusOnMount:!1,position:"bottom left"},n("div",{className:"components-autocomplete__results"},s)))}}};(window.bp=window.bp||{}).blockComponents=t})();